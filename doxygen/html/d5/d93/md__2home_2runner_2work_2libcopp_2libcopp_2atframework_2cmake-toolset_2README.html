<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcopp: cmake-toolset</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcopp<span id="projectnumber">&#160;2.3.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">cmake-toolset</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/atframework/cmake-toolset/actions/workflows/build.yaml"><img src="https://github.com/atframework/cmake-toolset/actions/workflows/build.yaml/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/atframework/cmake-toolset"><img src="https://img.shields.io/github/repo-size/atframework/cmake-toolset" alt="Repo size" class="inline"/></a> <a href="https://github.com/atframework/cmake-toolset"><img src="https://img.shields.io/github/v/release/atframework/cmake-toolset" alt="Latest release" class="inline"/></a> <a href="https://github.com/atframework/cmake-toolset"><img src="https://img.shields.io/github/languages/count/atframework/cmake-toolset" alt="Languages" class="inline"/></a> <a href="https://github.com/atframework/cmake-toolset"><img src="https://img.shields.io/github/license/atframework/cmake-toolset" alt="License" class="inline"/></a></p>
<p><a href="https://discord.com/channels/846584335921840148"><img src="https://img.shields.io/discord/846584335921840148" alt="Discord" class="inline"/></a></p>
<p>This is a cmake script set for atframework.It contains some utility functions and it can works with <a href="https://github.com/microsoft/vcpkg">vcpkg</a>.</p>
<p>It's recommended to use <a href="https://github.com/microsoft/vcpkg">vcpkg</a> if you do not need cross-compiling and has GCC 6+/Visual Studio 2022+/macOS 11+. But if you want a special version of some packages or just download packages from custom mirrors, you can use this toolset.</p>
<blockquote class="doxtable">
<p>&zwj;E.g.: If you want to use openssl 1.1.0k and use options <code>no-dso no-tests no-external-tests no-shared no-idea no-md4 no-mdc2 no-rc2 no-ssl2 no-ssl3 no-weak-ssl-ciphers</code> Just add these codes below:</p>
<div class="fragment"><div class="line"># set(PROJECT_THIRD_PARTY_PACKAGE_DIR &quot;Where to place third party source packages&quot;)</div>
<div class="line"># set(PROJECT_THIRD_PARTY_INSTALL_DIR &quot;Where to place third party installed packages&quot;)</div>
<div class="line"># Import.cmake is required by all ports and just need to include once</div>
<div class="line">include(&quot;${ATFRAMEWORK_CMAKE_TOOLSET_DIR}/Import.cmake&quot;)</div>
<div class="line"> </div>
<div class="line"># openssl options</div>
<div class="line">set(ATFRAMEWORK_CMAKE_TOOLSET_PORTS_OPENSSL_VERSION &quot;1.1.0k&quot;)</div>
<div class="line">set(ATFRAMEWORK_CMAKE_TOOLSET_PORTS_OPENSSL_OPTIONS &quot;no-dso no-tests no-external-tests no-shared no-idea no-md4 no-mdc2 no-rc2 no-ssl2 no-ssl3 no-weak-ssl-ciphers&quot;)</div>
<div class="line">project_third_party_include_port(&quot;ssl/openssl/openssl.cmake&quot;)</div>
</div><!-- fragment --> </blockquote>
<p>This toolset also works with iOS toolchain and Android NDK.</p>
<h1>Quick Start</h1>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.16.0)</div>
<div class="line">cmake_policy(SET CMP0022 NEW)</div>
<div class="line">cmake_policy(SET CMP0054 NEW)</div>
<div class="line">cmake_policy(SET CMP0067 NEW)</div>
<div class="line">cmake_policy(SET CMP0074 NEW)</div>
<div class="line">cmake_policy(SET CMP0077 NEW)</div>
<div class="line">cmake_policy(SET CMP0091 NEW)</div>
<div class="line">if(CMAKE_VERSION VERSION_GREATER_EQUAL &quot;3.19.0&quot;)</div>
<div class="line">  cmake_policy(SET CMP0111 NEW)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line"># MSVC RTTI flag /GR should not be not added to CMAKE_CXX_FLAGS by default. @see</div>
<div class="line"># https://cmake.org/cmake/help/latest/policy/CMP0117.html</div>
<div class="line">if(CMAKE_VERSION VERSION_GREATER_EQUAL &quot;3.20.0&quot;)</div>
<div class="line">  cmake_policy(SET CMP0117 NEW)</div>
<div class="line">endif()</div>
<div class="line">if(CMAKE_VERSION VERSION_GREATER_EQUAL &quot;3.22.0&quot;)</div>
<div class="line">  cmake_policy(SET CMP0128 NEW)</div>
<div class="line">endif()</div>
<div class="line">if(CMAKE_VERSION VERSION_GREATER_EQUAL &quot;3.27.0&quot;)</div>
<div class="line">  cmake_policy(SET CMP0144 NEW)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line">set(ATFRAMEWORK_CMAKE_TOOLSET_DIR &quot;${PROJECT_SOURCE_DIR}/cmake&quot;)</div>
<div class="line"> </div>
<div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Populate(</div>
<div class="line">    &quot;download-atframework-cmake-toolset&quot;</div>
<div class="line">    SOURCE_DIR &quot;${ATFRAMEWORK_CMAKE_TOOLSET_DIR}&quot;</div>
<div class="line">    GIT_REPOSITORY &quot;https://github.com/atframework/cmake-toolset.git&quot;</div>
<div class="line">    GIT_TAG &quot;origin/main&quot;</div>
<div class="line">    GIT_REMOTE_NAME &quot;origin&quot;</div>
<div class="line">    GIT_SHALLOW TRUE)</div>
<div class="line"> </div>
<div class="line">include(&quot;${ATFRAMEWORK_CMAKE_TOOLSET_DIR}/Import.cmake&quot;)</div>
</div><!-- fragment --><p>Or using toolchain</p>
<div class="fragment"><div class="line">cmake &lt;where to find CMakeLists.txt&gt; -DCMAKE_TOOLCHAIN_FILE=$ATFRAMEWORK_CMAKE_TOOLSET_DIR/Toolchain.cmake [other options...]</div>
<div class="line"> </div>
<div class="line"># With vcpkg on x64-linux</div>
<div class="line">cmake &lt;where to find CMakeLists.txt&gt; -DCMAKE_TOOLCHAIN_FILE=$ATFRAMEWORK_CMAKE_TOOLSET_DIR/Toolchain.cmake  \</div>
<div class="line">  -DATFRAMEWORK_CHAINLOAD_TOOLCHAIN_FILE=$VCPKG_INSTALLATION_ROOT/scripts/buildsystems/vcpkg.cmake          \</div>
<div class="line">  -DVCPKG_TARGET_TRIPLET=x64-linux [other options...]</div>
</div><!-- fragment --><h1>CI Job Status</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Target System   </th><th class="markdownTableHeadNone">Toolchain   </th><th class="markdownTableHeadNone">Note    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Format   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gcc.no-rtti.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC Without RTTI   </td><td class="markdownTableBodyNone">With <code>-fno-rtti</code> for C++    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gcc.no-exceptions.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC Without Exception   </td><td class="markdownTableBodyNone">With <code>-fno-exceptions</code> for C++    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gcc.static.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Static linking    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gcc.shared.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Dynamic linking    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gcc.libressl.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Using libressl for SSL porting    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gcc.boringssl.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Using boringssl for SSL porting    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gcc.mbedtls.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Using mbedtls for SSL porting    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">clang.test   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">~gcc.vcpkg.test~   </td><td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC With vcpkg   </td><td class="markdownTableBodyNone">Some versions of vcpkg may have poor compatibility on github's CI runner, just disable it when it's unavailable    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">msys2.mingw.static.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Static linking    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">msys2.mingw.shared.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">Dynamic linking    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">msvc.static.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC   </td><td class="markdownTableBodyNone">Static linking    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">msvc.shared.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC   </td><td class="markdownTableBodyNone">Dynamic linking    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">msvc.no-rtti.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC Without RTTI   </td><td class="markdownTableBodyNone">With <code>/GR-</code> for C++    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">msvc.no-exceptions.test   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC Without Exception   </td><td class="markdownTableBodyNone">With <code>/D_HAS_EXCEPTIONS=0</code> and without <code>/EHsc</code> for C++    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">~msvc.vcpkg.test~   </td><td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC With vcpkg   </td><td class="markdownTableBodyNone">Some versions of vcpkg may have poor compatibility on github's CI runner, just disable it when it's unavailable    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">macos.appleclang.test   </td><td class="markdownTableBodyNone">macOS   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone">-    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">android.arm64.test   </td><td class="markdownTableBodyNone">Android   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone"><code>-DANDROID_ABI=arm64-v8a</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">android.x86_64.test   </td><td class="markdownTableBodyNone">Android   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone"><code>-DANDROID_ABI=x86_64</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ios.test   </td><td class="markdownTableBodyNone">iOS   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone"><code>-DCMAKE_OSX_ARCHITECTURES=arm64</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">iphone_simulator.test   </td><td class="markdownTableBodyNone">iPhoneSimulator   </td><td class="markdownTableBodyNone">Clang with libc++   </td><td class="markdownTableBodyNone"><code>-DCMAKE_OSX_ARCHITECTURES=x86_64</code>   </td></tr>
</table>
<h1>Utility Scripts</h1>
<h2><code>CompilerOption.cmake</code></h2>
<ol type="1">
<li>Use latest C++/C standard.</li>
<li>Try to use libc++ and libc++abi when using clang or apple clang</li>
<li>Set <code>CMAKE_MSVC_RUNTIME_LIBRARY</code> into <code>MultiThreaded$&lt;$&lt;CONFIG:Debug&gt;:Debug&gt;$&lt;$&lt;NOT:$&lt;STREQUAL:${VCPKG_CRT_LINKAGE},static&gt;&gt;:DLL&gt;</code> .</li>
<li>Add <code>/Zc:__cplusplus</code> for MSVC to make <code>__cplusplus == _MSVC_LANG</code> .</li>
<li>Set the default value of <code>CMAKE_BUILD_TYPE</code> to <code>RelWithDebInfo</code> .</li>
<li>Macro: <code>add_compiler_flags_to_var(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_compiler_flags_to_var_unique(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_compiler_flags_to_inherit_var(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_compiler_flags_to_inherit_var_unique(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_list_flags_to_var(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_list_flags_to_var_unique(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_list_flags_to_inherit_var(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_list_flags_to_inherit_var_unique(&lt;VAR_NAME&gt; [options...])</code></li>
<li>Macro: <code>add_compiler_define([KEY=VALUE...])</code></li>
<li>Macro: <code>add_linker_flags_for_runtime([LDFLAGS...])</code></li>
<li>Macro: <code>add_linker_flags_for_runtime_unique([LDFLAGS...])</code></li>
<li>Macro: <code>add_linker_flags_for_all([LDFLAGS...])</code></li>
<li>Macro: <code>add_linker_flags_for_all_unique([LDFLAGS...])</code></li>
<li>Macro: <code>try_set_linker([LINKER &lt;linker name or path...&gt;] [LEGACY_LINKER_DIRECTORY &lt;linker directory that contains ld&gt;])</code></li>
<li>Macro: <code>project_build_tools_auto_append_postfix(&lt;VARNAME&gt;)</code> : Auto add postfix cmake options to variable</li>
<li>Function: <code>add_target_properties(&lt;TARGET&gt; &lt;PROPERTY_NAME&gt; [VALUES...])</code></li>
<li>Function: <code>remove_target_properties(&lt;TARGET&gt; &lt;PROPERTY_NAME&gt; [VALUES...])</code></li>
<li>Function: <code>add_target_link_flags(&lt;TARGET&gt; [LDFLAGS...])</code></li>
<li>Function: <code>project_build_tools_auto_set_target_postfix(&lt;TARGET&gt; [TARGET...])</code> : Auto set postfix to targets</li>
<li>Function: <code>project_build_tools_set_import_declaration(&lt;VARNAME&gt;)</code> : Set import declaration of current toolchain to variable</li>
<li>Function: <code>project_build_tools_set_export_declaration(&lt;VARNAME&gt;)</code> : Set export declaration of current toolchain to variable</li>
<li>Function: <code>project_build_tools_get_origin_rpath(&lt;VARNAME&gt; [path...])</code> : Get relative <code>RPATH/RUNPATH</code> paths</li>
<li>Function: <code>project_build_tools_set_global_install_rpath_origin([path...])</code> : Set global <code>RPATH/RUNPATH</code> to relative paths for installed targets</li>
<li>Function: <code>project_build_tools_set_global_build_rpath_origin([path...])</code> : Set global <code>RPATH/RUNPATH</code> to relative paths when building</li>
<li>Variable <code>COMPILER_OPTIONS_TEST_STD_COROUTINE</code> : <code>TRUE</code> when toolchain support C++20 Coroutine.</li>
<li>Variable <code>COMPILER_OPTIONS_TEST_STD_COROUTINE_TS</code> : <code>TRUE</code> when toolchain experimental support C++20 Coroutine.</li>
<li>Variable <code>COMPILER_OPTIONS_TEST_EXCEPTION</code> : <code>TRUE</code> when toolchain enable exception support.</li>
<li>Variable <code>COMPILER_OPTIONS_TEST_STD_EXCEPTION_PTR</code> : <code>TRUE</code> when toolchain support C++11 <code>std::exception_ptr</code> .</li>
<li>Variable <code>COMPILER_OPTIONS_TEST_RTTI</code> : <code>TRUE</code> when toolchain enable runtime type information.</li>
<li>Variable <code>COMPILER_STRICT_CFLAGS</code> : flags of all but compatible warnings and turn warning to error.</li>
<li>Variable <code>COMPILER_STRICT_EXTRA_CFLAGS</code> : flags of all extra warnings.</li>
<li>Variable <code>ATFRAMEWORK_CMAKE_TOOLSET_SANITIZER_ENABLE_STATIC_LINK</code>: Whether try to use static library of sanitizer when building third party packages.</li>
<li>Variable <code>ATFRAMEWORK_CMAKE_TOOLSET_SANITIZER_ENABLE_SHARED_LINK</code>: Whether try to use shared library of sanitizer when building third party packages.</li>
</ol>
<h2><code>TargetOption.cmake</code></h2>
<ol type="1">
<li>Variable <code>PROJECT_PREBUILT_PLATFORM_NAME</code> : Target platform name.</li>
<li>Variable <code>PROJECT_PREBUILT_HOST_PLATFORM_NAME</code> : Host platform name.</li>
<li>Set the default value of <code>CMAKE_ARCHIVE_OUTPUT_DIRECTORY</code> to <code>${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}</code> .</li>
<li>Set the default value of <code>CMAKE_LIBRARY_OUTPUT_DIRECTORY</code> to <code>${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}</code> .</li>
<li>Set the default value of <code>CMAKE_RUNTIME_OUTPUT_DIRECTORY</code> to <code>${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_BINDIR}</code> .</li>
</ol>
<h1>Cross compiling</h1>
<p>There are some example scripts to build android and iOS/iPhoneSimulator targets in <a href="../../ci/cmake_android_wrapper.sh">ci/cmake_android_wrapper.sh</a> and <a href="../../ci/cmake_ios_wrapper.sh">ci/cmake_ios_wrapper.sh</a>. When in crossing mode(Set <code>CMAKE_SYSTEM_NAME</code> by commandline or toolchains), sometimes we need some packages built on host architecture first, and we can use <code>CMAKE_HOST_&lt;VAR&gt;</code> to configure the options only used when building with host architecture. The availables options are listed below:</p>
<ul>
<li><code>CMAKE_HOST_TOOLCHAIN_FILE</code></li>
<li><code>CMAKE_HOST_GENERATOR_PLATFORM</code></li>
<li><code>CMAKE_HOST_GENERATOR_TOOLSET</code></li>
<li><code>CMAKE_HOST_C_COMPILER</code></li>
<li><code>CMAKE_HOST_C_COMPILER_LAUNCHER</code></li>
<li><code>CMAKE_HOST_C_COMPILER_TARGET</code></li>
<li><code>CMAKE_HOST_C_COMPILER_AR</code></li>
<li><code>CMAKE_HOST_C_COMPILER_RANLIB</code></li>
<li><code>CMAKE_HOST_C_EXTENSIONS</code></li>
<li><code>CMAKE_HOST_OBJC_EXTENSIONS</code></li>
<li><code>CMAKE_HOST_CXX_COMPILER</code></li>
<li><code>CMAKE_HOST_CXX_COMPILER_LAUNCHER</code></li>
<li><code>CMAKE_HOST_CXX_COMPILER_TARGET</code></li>
<li><code>CMAKE_HOST_CXX_COMPILER_AR</code></li>
<li><code>CMAKE_HOST_CXX_COMPILER_RANLIB</code></li>
<li><code>CMAKE_HOST_CXX_EXTENSIONS</code></li>
<li><code>CMAKE_HOST_OBJCXX_EXTENSIONS</code></li>
<li><code>CMAKE_HOST_ASM_COMPILER</code></li>
<li><code>CMAKE_HOST_ASM_COMPILER_TARGET</code></li>
<li><code>CMAKE_HOST_ASM_COMPILER_LAUNCHER</code></li>
<li><code>CMAKE_HOST_ASM_COMPILER_AR</code></li>
<li><code>CMAKE_HOST_ASM_COMPILER_RANLIB</code></li>
<li><code>CMAKE_HOST_AR</code></li>
<li><code>CMAKE_HOST_RANLIB</code></li>
<li><code>CMAKE_HOST_EXE_LINKER_FLAGS</code></li>
<li><code>CMAKE_HOST_MODULE_LINKER_FLAGS</code></li>
<li><code>CMAKE_HOST_SHARED_LINKER_FLAGS</code></li>
<li><code>CMAKE_HOST_STATIC_LINKER_FLAGS</code></li>
<li><code>CMAKE_HOST_LINK_DIRECTORIES_BEFORE</code></li>
<li><code>CMAKE_HOST_BUILD_RPATH</code></li>
<li><code>CMAKE_HOST_BUILD_RPATH_USE_ORIGIN</code></li>
<li><code>CMAKE_HOST_BUILD_WITH_INSTALL_RPATH</code></li>
<li><code>CMAKE_HOST_INSTALL_RPATH</code></li>
<li><code>CMAKE_HOST_INSTALL_RPATH_USE_LINK_PATH</code></li>
<li><code>CMAKE_HOST_INSTALL_REMOVE_ENVIRONMENT_RPATH</code></li>
<li><code>CMAKE_HOST_SYSROOT</code></li>
<li><code>CMAKE_HOST_SYSROOT_COMPILE</code></li>
<li><code>CMAKE_HOST_SYSROOT_LINK</code></li>
<li><code>CMAKE_HOST_FIND_ROOT_PATH</code></li>
<li><code>CMAKE_HOST_PREFIX_PATH</code></li>
<li><code>CMAKE_HOST_OSX_SYSROOT</code></li>
<li><code>CMAKE_HOST_OSX_ARCHITECTURES</code></li>
<li><code>CMAKE_HOST_OSX_DEPLOYMENT_TARGET</code></li>
<li><code>CMAKE_HOST_MACOSX_RPATH</code></li>
<li><code>CMAKE_HOST_MACOSX_BUNDLE</code></li>
<li><code>CMAKE_HOST_MSVC_RUNTIME_LIBRARY</code></li>
<li><code>CMAKE_HOST_FIND_ROOT_PATH_MODE_PROGRAM</code></li>
<li><code>CMAKE_HOST_FIND_ROOT_PATH_MODE_LIBRARY</code></li>
<li><code>CMAKE_HOST_FIND_ROOT_PATH_MODE_INCLUDE</code></li>
<li><code>CMAKE_HOST_FIND_ROOT_PATH_MODE_PACKAGE</code></li>
</ul>
<p>If we want to passthrough more options, we can set <code>PROJECT_BUILD_TOOLS_CMAKE_HOST_PASSTHROUGH</code> to the variable names. For example, if we want to use the same python3 executable on target and host building, we can use <code>cmake &lt;SOURCE DIR&gt; [other options] "-DPROJECT_BUILD_TOOLS_CMAKE_HOST_PASSTHROUGH=Python3_EXECUTABLE;Python_EXECUTABLE" -DPython3_EXECUTABLE=$(which python3) -DPython_EXECUTABLE=$(which python3)</code></p>
<h1>Package ports</h1>
<h2>Global options and requirements</h2>
<ul>
<li>Option(Optional): <code>PROJECT_THIRD_PARTY_PACKAGE_DIR</code> : Where to place package sources.</li>
<li>Option(Optional): <code>PROJECT_THIRD_PARTY_INSTALL_DIR</code> : Where to place installed packages.</li>
<li>Option(Optional): <code>PROJECT_THIRD_PARTY_HOST_INSTALL_DIR</code> : Where to place installed packages of host system.</li>
<li>Option(Optional): <code>FindConfigurePackageGitFetchDepth</code> : Fetch depth og git repository.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_BUILD_DIR</code> : Where to build packages.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_HOST_BUILD_DIR</code> : Where to build packages of host system.</li>
<li>Option(Optional): <code>PROJECT_PREBUILT_PLATFORM_NAME</code> : Platform name</li>
<li>Option(Optional): <code>PROJECT_PREBUILT_HOST_PLATFORM_NAME</code> : Host platform name</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CI_MODE</code> : Where to build packages in CI mode(Only one triplet for MSVC).</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_DEFAULT_VISIBILITY_HIDDEN</code> : Build third party libraries with <code>-fvisibility=hidden</code> by default.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_PACKAGE_PATCH_LOG</code> : Whether to show patch log.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LOW_MEMORY_MODE</code> : Use lower concurrency to reduce memory cost.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LOW_MEMORY_JOBS</code> : Jobs to use in low memory mode(default: 2).</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_ADDITIONAL_SYSTEM_LIBRARIES</code> : Additional system libraries.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PARALLEL_JOBS</code> : parallel build jobs.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_VERBOSE</code> : Show more information of cmake-toolset</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_CLEANUP_BUILD_CACHE</code> : Cleanup build cache directory after a package is built successfully.</li>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_CLEANUP_PACKAGE_SOURCE_DIR</code> : Cleanup souce cache directory after a package is built successfully.</li>
</ul>
<div class="fragment"><div class="line"># set(PROJECT_THIRD_PARTY_PACKAGE_DIR &quot;${PROJECT_SOURCE_DIR}/third_party/packages&quot;)</div>
<div class="line"># set(PROJECT_THIRD_PARTY_INSTALL_DIR &quot;${PROJECT_SOURCE_DIR}/third_party/install/${CMAKE_SYSTEM_NAME}-${CMAKE_SYSTEM_PROCESSOR}-${CMAKE_CXX_COMPILER_ID}&quot;)</div>
<div class="line"># Import.cmake is required by all ports and just need to include once</div>
<div class="line">include(&quot;${ATFRAMEWORK_CMAKE_TOOLSET_DIR}/Import.cmake&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;&lt;package dir&gt;[/package sub dir]/&lt;which package you need&gt;.cmake&quot;)</div>
</div><!-- fragment --><h2>Port file options</h2>
<p>Port file options means these variable should ony be set in port file and be reset after built.</p>
<ul>
<li>Option(Optional): <code>ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CURRENT_PORT_MAX_&lt;LANG&gt;_STANDARD</code> : Set the max standard when building a package.</li>
</ul>
<h2>Package - jemalloc</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_JEMALLOC_MODE &quot;release&quot;)  # debug/release</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_JEMALLOC_VERSION &quot;5.2.1&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_JEMALLOC_GIT_URL &quot;https://github.com/jemalloc/jemalloc.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;malloc/jemalloc.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - mimalloc</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MIMALLOC_MODE &quot;release&quot;)  # debug/release</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MIMALLOC_SECURE OFF)      # Use full security mitigations (like guard pages, allocation randomization, double-free mitigation, and free-list corruption detection)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MIMALLOC_VERSION &quot;v2.0.6&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MIMALLOC_GIT_URL &quot;https://github.com/microsoft/mimalloc.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;malloc/mimalloc.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - algorithm - xxhash</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_XXHASH_VERSION &quot;v0.8.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_XXHASH_GIT_URL &quot;https://github.com/Cyan4973/xxHash.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_XXHASH_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot;)</div>
<div class="line">project_third_party_include_port(&quot;algorithm/xxhash.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - fmtlib/std::format</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FMTLIB_VERSION &quot;7.1.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FMTLIB_GIT_URL &quot;https://github.com/fmtlib/fmt.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FMTLIB_ALTERNATIVE_STD ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FMTLIB_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DFMT_DOC=OFF&quot; &quot;-DFMT_INSTALL=ON&quot;</div>
<div class="line">#   &quot;-DFMT_TEST=OFF&quot; &quot;-DFMT_FUZZ=OFF&quot; &quot;-DFMT_CUDA_TEST=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;fmtlib/fmtlib.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - compression</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZLIB_VERSION &quot;v1.2.11&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZLIB_GIT_URL &quot;https://github.com/madler/zlib.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZLIB_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBUILD_TESTING=OFF&quot;)</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_LZ4_VERSION &quot;v1.9.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_LZ4_GIT_URL &quot;https://github.com/lz4/lz4.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_LZ4_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DLZ4_POSITION_INDEPENDENT_LIB=ON&quot;</div>
<div class="line">#   &quot;-DLZ4_BUILD_CLI=ON&quot; &quot;-DLZ4_BUILD_LEGACY_LZ4C=ON&quot; &quot;-DCMAKE_DEBUG_POSTFIX=d&quot;)</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_SNAPPY_VERSION &quot;1.1.9&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_SNAPPY_GIT_URL &quot;https://github.com/google/snappy.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_SNAPPY_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot;</div>
<div class="line">#   &quot;-DSNAPPY_BUILD_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-DSNAPPY_BUILD_BENCHMARKS=OFF&quot;</div>
<div class="line">#   &quot;-DSNAPPY_FUZZING_BUILD=OFF&quot;</div>
<div class="line">#   &quot;-DSNAPPY_INSTALL=ON&quot;)</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZSTD_VERSION &quot;v1.5.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZSTD_GIT_URL &quot;https://github.com/facebook/zstd.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_COMPRESSION_ZSTD_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot;</div>
<div class="line">#   &quot;-DZSTD_BUILD_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-DZSTD_BUILD_CONTRIB=0&quot;</div>
<div class="line">#   &quot;-DCMAKE_DEBUG_POSTFIX=d&quot;</div>
<div class="line">#   &quot;-DZSTD_BUILD_PROGRAMS=ON&quot;</div>
<div class="line">#   &quot;-DZSTD_MULTITHREAD_SUPPORT=ON&quot;</div>
<div class="line">#   &quot;-DZSTD_ZLIB_SUPPORT=ON&quot;</div>
<div class="line">#   &quot;-DZSTD_LZ4_SUPPORT=ON&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;compression/import.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - libuv</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBUV_VERSION &quot;v1.41.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBUV_GIT_URL &quot;https://github.com/libuv/libuv.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBUV_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBUILD_TESTING=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;libuv/libuv.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - libunwind</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBUNWIND_VERSION &quot;v1.5&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBUNWIND_GIT_URL &quot;https://github.com/libunwind/libunwind.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;libunwind/libunwind.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - GTest</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GTEST_VERSION &quot;release-1.10.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GTEST_GIT_URL &quot;https://github.com/google/googletest.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GTEST_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBUILD_GMOCK=ON&quot; &quot;-DINSTALL_GTEST=ON&quot;)</div>
<div class="line">project_third_party_include_port(&quot;test/gtest.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - benchmark</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_BENCHMARK_VERSION &quot;v1.5.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_BENCHMARK_GIT_URL &quot;https://github.com/google/benchmark.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_BENCHMARK_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBENCHMARK_ENABLE_TESTING=OFF&quot;</div>
<div class="line">#   &quot;-DBENCHMARK_ENABLE_LTO=OFF&quot; &quot;-DBENCHMARK_ENABLE_INSTALL=ON&quot;</div>
<div class="line">#   &quot;-DALLOW_DOWNLOADING_GOOGLETEST=ON&quot; &quot;-DBENCHMARK_ENABLE_GTEST_TESTS=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;test/benchmark.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - rapidjson</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RAPIDJSON_VERSION &quot;47b837e14ab5712fade68e0b00768ff95c120966&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RAPIDJSON_GIT_URL &quot;https://github.com/Tencent/rapidjson.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RAPIDJSON_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DRAPIDJSON_BUILD_DOC=OFF&quot; &quot;-DRAPIDJSON_BUILD_EXAMPLES=OFF&quot; &quot;-DRAPIDJSON_BUILD_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-DRAPIDJSON_BUILD_THIRDPARTY_GTEST=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;json/rapidjson.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - nlohmann_json</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_NLOHMANN_JSON_VERSION &quot;v3.9.1&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_NLOHMANN_JSON_GIT_URL &quot;https://github.com/nlohmann/json.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_NLOHMANN_JSON_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DJSON_Install=ON&quot; &quot;-DJSON_BuildTests=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;json/nlohmann_json.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - flatbuffers</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FLATBUFFERS_VERSION &quot;v1.12.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FLATBUFFERS_GIT_URL &quot;https://github.com/google/flatbuffers.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_FLATBUFFER_BUILD_OPTIONS</div>
<div class="line">#   -DFLATBUFFERS_CODE_COVERAGE=OFF</div>
<div class="line">#   -DFLATBUFFERS_BUILD_TESTS=OFF</div>
<div class="line">#   -DFLATBUFFERS_INSTALL=ON</div>
<div class="line">#   -DFLATBUFFERS_BUILD_FLATLIB=ON</div>
<div class="line">#   -DFLATBUFFERS_BUILD_FLATC=ON</div>
<div class="line">#   -DFLATBUFFERS_BUILD_FLATHASH=ON</div>
<div class="line">#   -DFLATBUFFERS_BUILD_GRPCTEST=OFF</div>
<div class="line">#   -DFLATBUFFERS_BUILD_SHAREDLIB=OFF)</div>
<div class="line">project_third_party_include_port(&quot;flatbuffers/flatbuffers.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - protobuf</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_VERSION &quot;v3.15.8&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_GIT_URL &quot;https://github.com/protocolbuffers/protobuf.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_ALLOW_SHARED_LIBS OFF CACHE BOOL</div>
<div class="line">#   &quot;Allow build protobuf as dynamic(May cause duplicate symbol in global data base.[File already exists in database])&quot;</div>
<div class="line"># )</div>
<div class="line"># # Some versions of protoc-upb in protobuf will crash, we use old version for standalone mode</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_ENABLE_STANDALONE_UPB ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_VISIBILITY_HIDDEN TRUE) # add -fvisibility=hidden</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROTOBUF_BUILD_OPTIONS</div>
<div class="line">#   &quot;-Dprotobuf_BUILD_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-Dprotobuf_BUILD_EXAMPLES=OFF&quot;</div>
<div class="line">#   &quot;-Dprotobuf_BUILD_SHARED_LIBS=${BUILD_SHARED_LIBS}&quot;</div>
<div class="line">#   &quot;-Dprotobuf_MSVC_STATIC_RUNTIME=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;protobuf/protobuf.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - crypto(openssl/boringssl/libressl/mbedtls/libsodium)</h2>
<div class="fragment"><div class="line"># ============ crypto - openssl ============</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_USE_OPENSSL)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_USE_LIBRESSL)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_USE_BORINGSSL)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_USE_MBEDTLS)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_DISABLED)</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_VERSION &quot;3.0.7&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_GIT_URL &quot;https://github.com/openssl/openssl.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_ENABLE_QUIC TRUE)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_PACKAGE_DIR &quot;&quot;) # Where to place source </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_DEFAULT_TARGET &quot;&quot;) # VC-WIN64A-masm VC-WIN64A VC-WIN32 and etc.</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_WITH_SYSTEM FALSE) # Allow load system prebuilt openssl</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_BUILD_OPTIONS</div>
<div class="line">#   # &quot;--api=1.1.1&quot;</div>
<div class="line">#   &quot;--release&quot;</div>
<div class="line">#   # libcurl and gRPC requires openssl&#39;s API of 1.1.0 and 1.0.2, so we can not disable deprecated APIS here</div>
<div class="line">#   &quot;no-dso&quot;</div>
<div class="line">#   &quot;no-tests&quot;</div>
<div class="line">#   &quot;no-external-tests&quot;</div>
<div class="line">#   &quot;no-shared&quot;</div>
<div class="line">#   &quot;no-idea&quot;</div>
<div class="line">#   &quot;no-md4&quot;</div>
<div class="line">#   &quot;no-mdc2&quot;</div>
<div class="line">#   &quot;no-rc2&quot;</div>
<div class="line">#   &quot;no-ssl2&quot;</div>
<div class="line">#   &quot;no-ssl3&quot;</div>
<div class="line">#   &quot;no-weak-ssl-ciphers&quot;</div>
<div class="line">#   &quot;enable-static-engine&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_CFLAGS ... ) # Additional CFLAGS</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_LDFLAGS ... ) # Additional LDFLAGS</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_OPENSSL_APPEND_DEFAULT_BUILD_OPTIONS ...) # Additional config flags</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_BORINGSSL_VERSION &quot;479adf98d54a21c1d154aac59b2ce120e1d1a6d6&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_BORINGSSL_GIT_URL &quot;https://github.com/google/boringssl.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_BORINGSSL_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot; &quot;-DBUILD_SHARED_LIBS=OFF&quot; &quot;-DGO_EXECUTABLE=${GO_EXECUTABLE}&quot;</div>
<div class="line">#   &quot;-DPERL_EXECUTABLE=${PERL_EXECUTABLE}&quot;)</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_LIBRESSL_VERSION &quot;3.3.1&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_LIBRESSL_TAR_URL_BASE &quot;https://ftp.openbsd.org/pub/OpenBSD/LibreSSL&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_LIBRESSL_BUILD_OPTIONS &quot;-DLIBRESSL_TESTS=OFF&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_LIBRESSL_APPEND_DEFAULT_BUILD_OPTIONS ...) # Additional cmake options</div>
<div class="line"> </div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_MBEDTLS_VERSION &quot;v2.26.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_MBEDTLS_GIT_URL &quot;https://github.com/ARMmbed/mbedtls.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CRYPTO_MBEDTLS_BUILD_FLAGS</div>
<div class="line">#   &quot;-DENABLE_TESTING=OFF&quot; &quot;-DUSE_STATIC_MBEDTLS_LIBRARY=ON&quot; &quot;-DENABLE_PROGRAMS=OFF&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;ssl/port.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - c-ares</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CARES_VERSION &quot;1.17.1&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CARES_GIT_URL &quot;https://github.com/c-ares/c-ares.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CARES_BUILD_OPTIONS</div>
<div class="line">#  &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DCARES_STATIC_PIC=ON&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;cares/c-ares.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - re2</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RE2_VERSION &quot;2021-04-01&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RE2_GIT_URL &quot;https://github.com/google/re2.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_RE2_BUILD_OPTIONS </div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DRE2_BUILD_TESTING=OFF&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;re2/re2.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - libcurl</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCURL_VERSION &quot;7.76.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCURL_GIT_URL &quot;https://github.com/curl/curl.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCURL_DISABLE_ARES OFF)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCURL_BUILD_FLAGS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBUILD_TESTING=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;libcurl/libcurl.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - civetweb</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CIVETWEB_VERSION &quot;v1.14&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CIVETWEB_GIT_URL &quot;https://github.com/civetweb/civetweb.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CIVETWEB_THREAD_STACK_SIZE 102400)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_CIVETWEB_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_BUILD_TESTING=OFF&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_DEBUG_TOOLS=OFF&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_ASAN=OFF&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_CXX=ON&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_IPV6=ON&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_SSL_DYNAMIC_LOADING=OFF&quot;</div>
<div class="line">#   &quot;-DCIVETWEB_ENABLE_WEBSOCKETS=ON&quot;)</div>
<div class="line">project_third_party_include_port(&quot;web/civetweb.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - libwebsockets</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBWEBSOCKETS_VERSION &quot;v4.1.6&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBWEBSOCKETS_GIT_URL &quot;https://github.com/warmcat/libwebsockets.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBWEBSOCKETS_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DLWS_STATIC_PIC=ON&quot;</div>
<div class="line">#   &quot;-DLWS_LINK_TESTAPPS_DYNAMIC=OFF&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_CLIENT=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_DAEMONIZE=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_TESTAPPS=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_TEST_CLIENT=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_TEST_PING=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_TEST_SERVER=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_TEST_SERVER_EXTPOLL=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITH_PLUGINS=ON&quot;</div>
<div class="line">#   &quot;-DLWS_WITHOUT_EXTENSIONS=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;web/libwebsockets.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - lua</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LUA_VERSION &quot;v5.4.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LUA_GIT_URL &quot;https://github.com/lua/lua.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;lua/lua.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - Microsoft.GSL</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MICROSOFT_GSL_VERSION &quot;v3.1.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MICROSOFT_GSL_GIT_URL &quot;https://github.com/microsoft/GSL.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_MICROSOFT_GSL_BUILD_OPTIONS &quot;-DGSL_TEST=OFF&quot; &quot;-DGSL_INSTALL=ON&quot;)</div>
<div class="line">project_third_party_include_port(&quot;gsl/ms-gsl.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - gsl-lite</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GSL_LITE_VERSION &quot;v0.38.1&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GSL_LITE_GIT_URL &quot;https://github.com/gsl-lite/gsl-lite.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GSL_LITE_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_BUILD_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_BUILD_CUDA_TESTS=OFF&quot;</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_BUILD_EXAMPLES=OFF&quot;</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_BUILD_STATIC_ANALYSIS_DEMOS=OFF&quot;</div>
<div class="line">#   &quot;-DCMAKE_EXPORT_PACKAGE_REGISTRY=OFF&quot;</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_INSTALL_COMPAT_HEADER=OFF&quot;</div>
<div class="line">#   &quot;-DGSL_LITE_OPT_INSTALL_LEGACY_HEADERS=OFF&quot;</div>
<div class="line"># )</div>
<div class="line">project_third_party_include_port(&quot;gsl/gsl-lite.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - yaml-cpp</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_YAML_CPP_VERSION &quot;0.6.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_YAML_CPP_GIT_URL &quot;https://github.com/jbeder/yaml-cpp.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;yaml-cpp/yaml-cpp.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - hiredis</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_HIREDIS_VERSION &quot;2a5a57b90a57af5142221aa71f38c08f4a737376&quot;) # v1.0.0 with some patch</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_HIREDIS_GIT_URL &quot;https://github.com/redis/hiredis.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_HIREDIS_BUILD_OPTIONS &quot;-DDISABLE_TESTS=YES&quot; &quot;-DENABLE_EXAMPLES=OFF&quot;)</div>
<div class="line">project_third_party_include_port(&quot;redis/hiredis.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - libcopp</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCOPP_VERSION &quot;v2&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_LIBCOPP_GIT_URL &quot;https://github.com/owent/libcopp.git&quot;)</div>
<div class="line">project_third_party_include_port(&quot;libcopp/libcopp.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - gRPC</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_ABSEIL_VERSION &quot;20210324.2&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_ABSEIL_GIT_URL &quot;https://github.com/abseil/abseil-cpp.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_ABSEIL_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DgRPC_INSTALL_CSHARP_EXT=OFF&quot; &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DBUILD_TESTING=OFF&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_GRPC_VERSION &quot;v1.38.0&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_GRPC_GIT_URL &quot;https://github.com/grpc/grpc.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_GRPC_GRPC_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=YES&quot; &quot;-DgRPC_INSTALL=ON&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;grpc/import.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - prometheus-cpp</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROMETHEUS_CPP_VERSION &quot;v0.12.3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROMETHEUS_CPP_GIT_URL &quot;https://github.com/jupp0r/prometheus-cpp.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_PROMETHEUS_CPP_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot; &quot;-DENABLE_TESTING=OFF&quot;</div>
<div class="line">#   &quot;-DUSE_THIRDPARTY_LIBRARIES=OFF&quot; &quot;-DRUN_IWYU=OFF&quot; &quot;-DENABLE_WARNINGS_AS_ERRORS=OFF&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;telemetry/prometheus-cpp.cmake&quot;)</div>
</div><!-- fragment --><h2>Package - opentelemetry-cpp</h2>
<div class="fragment"><div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_VERSION &quot;v1.0.0-rc3&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_GIT_URL &quot;https://github.com/open-telemetry/opentelemetry-cpp.git&quot;)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_STL OFF)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_ABSEIL ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_OTLP ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_ELASTICSEARCH ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_ZIPKIN ON)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_WITH_PROMETHEUS OFF)</div>
<div class="line"># set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_OPENTELEMETRY_CPP_BUILD_OPTIONS</div>
<div class="line">#   &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot; &quot;-DCMAKE_FIND_PACKAGE_PREFER_CONFIG=ON&quot;</div>
<div class="line">#   &quot;-Dprotobuf_MODULE_COMPATIBLE=ON&quot; &quot;-DBUILD_TESTING=OFF&quot; &quot;-DWITH_EXAMPLES=OFF&quot;)</div>
<div class="line"> </div>
<div class="line">project_third_party_include_port(&quot;telemetry/opentelemetry-cpp.cmake&quot;)</div>
</div><!-- fragment --><h1>Custom ports</h1>
<h2>Add custom ports from git as subdirectory</h2>
<div class="fragment"><div class="line">include_guard(GLOBAL)</div>
<div class="line"> </div>
<div class="line">macro(PROJECT_&lt;PACKAGE NAME:UPPERCASE&gt;_IMPORT)</div>
<div class="line">  if(TARGET &lt;target to link&gt;)</div>
<div class="line">    echowithcolor(COLOR GREEN &quot;-- Dependency: &lt;target to link&gt; found.(Target: &lt;target to link&gt;)&quot;)</div>
<div class="line">    set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_LINK_NAME &lt;target to link&gt;)</div>
<div class="line">  endif()</div>
<div class="line">endmacro()</div>
<div class="line"> </div>
<div class="line">if(NOT TARGET &lt;target to link&gt;)</div>
<div class="line">  project_third_party_port_declare(&lt;package name&gt;</div>
<div class="line">    VERSION &quot;&lt;package version&gt;&quot;</div>
<div class="line">    GIT_URL &quot;&lt;git url&gt;&quot;)</div>
<div class="line"> </div>
<div class="line">  project_git_clone_repository(</div>
<div class="line">    URL &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_GIT_URL}&quot; REPO_DIRECTORY</div>
<div class="line">    &quot;${PROJECT_THIRD_PARTY_PACKAGE_DIR}/${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_SRC_DIRECTORY_NAME}&quot; TAG</div>
<div class="line">    &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_VERSION}&quot;)</div>
<div class="line"> </div>
<div class="line">  add_subdirectory(</div>
<div class="line">    &quot;${PROJECT_THIRD_PARTY_PACKAGE_DIR}/${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_SRC_DIRECTORY_NAME}&quot;</div>
<div class="line">    &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_BUILD_DIR}&quot;)</div>
<div class="line">  project_&lt;package name:lowercase&gt;_import()</div>
<div class="line">else()</div>
<div class="line">  project_&lt;package name:lowercase&gt;_import()</div>
<div class="line">endif()</div>
</div><!-- fragment --><h2>Add custom ports from submodule as subdirectory</h2>
<div class="fragment"><div class="line">include_guard(GLOBAL)</div>
<div class="line"> </div>
<div class="line">macro(PROJECT_&lt;PACKAGE NAME:UPPERCASE&gt;_IMPORT)</div>
<div class="line">  if(TARGET &lt;target to link&gt;)</div>
<div class="line">    echowithcolor(COLOR GREEN &quot;-- Dependency: &lt;target to link&gt; found.(Target: &lt;target to link&gt;)&quot;)</div>
<div class="line">    set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_LINK_NAME &lt;target to link&gt;)</div>
<div class="line">  endif()</div>
<div class="line">endmacro()</div>
<div class="line"> </div>
<div class="line">if(NOT TARGET &lt;target to link&gt;)</div>
<div class="line">  if(NOT EXISTS &quot;${CMAKE_CURRENT_BINARY_DIR}/_deps/&lt;package name&gt;&quot;)</div>
<div class="line">    file(MAKE_DIRECTORY &quot;${CMAKE_CURRENT_BINARY_DIR}/_deps/&lt;package name&gt;&quot;)</div>
<div class="line">  endif()</div>
<div class="line">  maybe_populate_submodule(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt; &quot;&lt;submodule path&gt;&quot; &quot;${PROJECT_SOURCE_DIR}/&lt;submodule path&gt;&quot;)</div>
<div class="line">  add_subdirectory(&quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_REPO_DIR}&quot;</div>
<div class="line">                   &quot;${CMAKE_CURRENT_BINARY_DIR}/_deps/&lt;package name&gt;&quot;)</div>
<div class="line">  project_&lt;package name:lowercase&gt;_import()</div>
<div class="line">else()</div>
<div class="line">  project_&lt;package name:lowercase&gt;_import()</div>
<div class="line">endif()</div>
</div><!-- fragment --><h2>Add custom ports from git and install it</h2>
<div class="fragment"><div class="line">include_guard(GLOBAL)</div>
<div class="line"> </div>
<div class="line">macro(PROJECT_&lt;PACKAGE NAME:UPPERCASE&gt;_IMPORT)</div>
<div class="line">  if(TARGET &lt;target to link&gt;)</div>
<div class="line">    echowithcolor(COLOR GREEN &quot;-- Dependency: &lt;target to link&gt; found.(Target: &lt;target to link&gt;)&quot;)</div>
<div class="line">    set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_LINK_NAME &lt;target to link&gt;)</div>
<div class="line">  endif()</div>
<div class="line">endmacro()</div>
<div class="line"> </div>
<div class="line">if(NOT TARGET &lt;target to link&gt;)</div>
<div class="line">  project_third_party_port_declare(&lt;package name&gt;</div>
<div class="line">    VERSION &quot;&lt;package version&gt;&quot;</div>
<div class="line">    GIT_URL &quot;&lt;git url&gt;&quot;</div>
<div class="line">    BUILD_OPTIONS</div>
<div class="line">      &quot;-DCMAKE_POSITION_INDEPENDENT_CODE=ON&quot;</div>
<div class="line">      # Other default options</div>
<div class="line">  )</div>
<div class="line"> </div>
<div class="line">  project_third_party_append_build_shared_lib_var(&lt;package name&gt; &quot;[PREFIX, left empty string for none]&quot;</div>
<div class="line">                                                    ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_BUILD_OPTIONS</div>
<div class="line">                                                    BUILD_SHARED_LIBS)</div>
<div class="line">  if(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_FILE</div>
<div class="line">     AND EXISTS &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_FILE}&quot;)</div>
<div class="line">    set(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_OPTIONS GIT_PATCH_FILES</div>
<div class="line">         &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_FILE}&quot;)</div>
<div class="line">  else()</div>
<div class="line">    unset(ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_OPTIONS)</div>
<div class="line">  endif()</div>
<div class="line"> </div>
<div class="line">  find_configure_package(</div>
<div class="line">      PACKAGE</div>
<div class="line">      &lt;package name&gt;</div>
<div class="line">      BUILD_WITH_CMAKE</div>
<div class="line">      CMAKE_INHERIT_BUILD_ENV</div>
<div class="line">      # CMAKE_INHERIT_BUILD_ENV_DISABLE_C_FLAGS    # For CXX only project</div>
<div class="line">      # CMAKE_INHERIT_BUILD_ENV_DISABLE_CXX_FLAGS  # For C only project</div>
<div class="line">      # CMAKE_INHERIT_BUILD_ENV_DISABLE_ASM_FLAGS</div>
<div class="line">      # CMAKE_INHERIT_FIND_ROOT_PATH              # Need to find dependency from install path</div>
<div class="line">      # CMAKE_INHERIT_SYSTEM_LINKS                # Need to link system libraries</div>
<div class="line">      CMAKE_FLAGS</div>
<div class="line">      ${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_BUILD_OPTIONS}</div>
<div class="line">      ${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_PATCH_OPTIONS}</div>
<div class="line">      WORKING_DIRECTORY</div>
<div class="line">      &quot;${PROJECT_THIRD_PARTY_PACKAGE_DIR}&quot;</div>
<div class="line">      BUILD_DIRECTORY</div>
<div class="line">      &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_BUILD_DIR}&quot;</div>
<div class="line">      PREFIX_DIRECTORY</div>
<div class="line">      &quot;${PROJECT_THIRD_PARTY_INSTALL_DIR}&quot;</div>
<div class="line">      SRC_DIRECTORY_NAME</div>
<div class="line">      &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_SRC_DIRECTORY_NAME}&quot;</div>
<div class="line">      PROJECT_DIRECTORY</div>
<div class="line">      &quot;${PROJECT_THIRD_PARTY_PACKAGE_DIR}/${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_SRC_DIRECTORY_NAME}&quot; # Where to find CMakeLists.txt</div>
<div class="line">      GIT_BRANCH</div>
<div class="line">      &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_VERSION}&quot;</div>
<div class="line">      GIT_URL</div>
<div class="line">      &quot;${ATFRAMEWORK_CMAKE_TOOLSET_THIRD_PARTY_&lt;PACKAGE NAME:UPPERCASE&gt;_GIT_URL}&quot;)</div>
<div class="line"> </div>
<div class="line">    project_third_party_&lt;target to link&gt;_import()</div>
<div class="line">else()</div>
<div class="line">  project_&lt;package name:lowercase&gt;_import()</div>
<div class="line">endif()</div>
</div><!-- fragment --><h1>Contributing</h1>
<p>See <a class="el" href="../../d9/de0/md__2home_2runner_2work_2libcopp_2libcopp_2atframework_2cmake-toolset_2CONTRIBUTING.html">CONTRIBUTING.md</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
